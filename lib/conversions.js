"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hslToRgb=exports.ansi8ToAnsi4=exports.rgbToAnsi8=exports.rgbToAnsi4=void 0;var util_1=require("./util"),rgbToAnsi4=function(r,o,n){var s=Math.round(Math.max(r,o,n)/255);return 0<s?(1===s?0:-8)+(Math.round(n/255)<<2|Math.round(o/255)<<1|Math.round(r/255)):0};exports.rgbToAnsi4=rgbToAnsi4;var rgbToAnsi8=function(r,o,n){return r=Math.round(r),o=Math.round(o),n=Math.round(n),Math.round(r===o&&n==o?r<8?16:248<r?231:(r-8)/247*24+232:r/255*36*5+o/255*6*5+n/255*5+16)};exports.rgbToAnsi8=rgbToAnsi8;var ansi8ToAnsi4=function(r){if(232<=r){var o=10*(r-232)+8;return exports.rgbToAnsi4(o,o,o)}var n=(r-=16)%36,o=Math.floor(r/36)/5*255,r=Math.floor(n/6)/5*255;return exports.rgbToAnsi4(o,r,n%6/5*255)};exports.ansi8ToAnsi4=ansi8ToAnsi4;var hslToRgb=function(o,r,n){n/=100;var s=r*Math.min(n,1-n)/100,r=function(r){r=(r+o/30)%12,r=n-s*Math.max(Math.min(r-3,9-r,1),-1);return util_1.clamp(Math.round(255*r),0,255)};return[r(0),r(8),r(4)]};exports.hslToRgb=hslToRgb,exports={rgbToAnsi4:exports.rgbToAnsi4,rgbToAnsi8:exports.rgbToAnsi8,hslToRgb:exports.hslToRgb,ansi8ToAnsi4:exports.ansi8ToAnsi4};