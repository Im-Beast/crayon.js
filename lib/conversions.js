"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hslToRgb=exports.ansi8ToAnsi4=exports.rgbToAnsi8=exports.rgbToAnsi4=exports.ansi4ToAnsi3=void 0;const util_1=require("./util"),ansi4ToAnsi3=o=>o%8;exports.ansi4ToAnsi3=ansi4ToAnsi3;const rgbToAnsi4=(o,s,r)=>{var n=Math.round(Math.max(o,s,r)/255);return 0<n?(1===n?0:-8)+(Math.round(r/255)<<2|Math.round(s/255)<<1|Math.round(o/255)):0};exports.rgbToAnsi4=rgbToAnsi4;const rgbToAnsi8=(o,s,r)=>(o=Math.round(o),s=Math.round(s),r=Math.round(r),Math.round(o===s&&r==s?o<8?16:248<o?231:(o-8)/247*24+232:o/255*36*5+s/255*6*5+r/255*5+16));exports.rgbToAnsi8=rgbToAnsi8;const ansi8ToAnsi4=o=>{if(232<=o){var s=10*(o-232)+8;return exports.rgbToAnsi4(s,s,s)}var r=(o-=16)%36,s=Math.floor(o/36)/5*255,o=Math.floor(r/6)/5*255;return exports.rgbToAnsi4(s,o,r%6/5*255)};exports.ansi8ToAnsi4=ansi8ToAnsi4;const hslToRgb=(s,o,r)=>{r/=100;const n=o*Math.min(r,1-r)/100;o=o=>{o=(o+s/30)%12,o=r-n*Math.max(Math.min(o-3,9-o,1),-1);return util_1.clamp(Math.round(255*o),0,255)};return[o(0),o(8),o(4)]};exports.hslToRgb=hslToRgb,exports={rgbToAnsi4:exports.rgbToAnsi4,rgbToAnsi8:exports.rgbToAnsi8,hslToRgb:exports.hslToRgb,ansi8ToAnsi4:exports.ansi8ToAnsi4,ansi4ToAnsi3:exports.ansi4ToAnsi3};