"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hslToRgb=exports.ansi8ToAnsi4=exports.rgbToAnsi8=exports.rgbToAnsi4=void 0;var util_1=require("./util"),rgbToAnsi4=function(r,n,o){var t=Math.round(Math.max(r,n,o)/255);return 0<t?(1===t?90:30)+(Math.round(o/255)<<2|Math.round(n/255)<<1|Math.round(r/255)):30};exports.rgbToAnsi4=rgbToAnsi4;var rgbToAnsi8=function(r,n,o){return r=Math.round(r),n=Math.round(n),o=Math.round(o),r===n&&o==n?r<8?16:248<r?231:(r-8)/247*24+232:r/255*36*5+n/255*6*5+o/255*5+16};exports.rgbToAnsi8=rgbToAnsi8;var ansi8ToAnsi4=function(r){if(r<8)return r+30;if(r<16)return r+82;if(251<=r)return 97;if(246<=r)return 37;if(235<=r)return 90;if(232<=r)return 30;var n=(r-=16)%36,o=Math.round(~~r/36/5*.3+.35),r=Math.round(~~n/6/5*.3+.35),n=Math.round(n%6/5*.3+.35);return 30+(n<<2|r<<1|o)+199.65*Math.round(Math.max(o,r,n))};exports.ansi8ToAnsi4=ansi8ToAnsi4;var hslToRgb=function(n,r,o){o/=100;var t=r*Math.min(o,1-o)/100,r=function(r){r=(r+n/30)%12,r=o-t*Math.max(Math.min(r-3,9-r,1),-1);return util_1.clamp(Math.round(255*r),0,255)};return[r(0),r(8),r(4)]};exports.hslToRgb=hslToRgb,exports={rgbToAnsi4:exports.rgbToAnsi4,rgbToAnsi8:exports.rgbToAnsi8,hslToRgb:exports.hslToRgb,ansi8ToAnsi4:exports.ansi8ToAnsi4};