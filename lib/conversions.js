import{clamp}from"./util.js";const ansi4ToAnsi3=n=>n%8;const rgbToAnsi4=(n,o,t)=>{const r=Math.round(Math.max(n,o,t)/64);return r?(3<=r?8:0)+(Math.round(t/255)<<2)|Math.round(o/255)<<1|Math.round(n/255):0};const rgbToAnsi8=(n,o,t)=>(n=Math.round(n),o=Math.round(o),t=Math.round(t),n>>4==o>>4&&o>>4==t>>4?n<8?16:248<n?231:Math.round((n-8)/247*24)+232:16+36*Math.round(n/255*5)+6*Math.round(o/255*5)+Math.round(t/255*5));const ansi8ToAnsi4=n=>{if(232<=n){const a=10*(n-232)+8;return rgbToAnsi4(a,a,a)}const o=(n-=16)%36;const t=Math.floor(n/36)/5*255;const r=Math.floor(o/6)/5*255;const s=o%6/5*255;return rgbToAnsi4(t,r,s)};const hslToRgb=(r,n,s)=>{s/=100;const a=n*Math.min(s,1-s)/100;const o=n=>{const o=(n+r/30)%12;const t=s-a*Math.max(Math.min(o-3,9-o,1),-1);return clamp(Math.round(255*t),0,255)};return[o(0),o(8),o(4)]};export{ansi4ToAnsi3,rgbToAnsi4,rgbToAnsi8,ansi8ToAnsi4,hslToRgb};