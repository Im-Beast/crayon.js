import{clamp}from"./util.js";const ansi4ToAnsi3=n=>n%8;const rgbToAnsi4=(n,o,t)=>{const s=Math.round(Math.max(n,o,t)/255);return 0<s?(1===s?0:-8)+(Math.round(t/255)<<2|Math.round(o/255)<<1|Math.round(n/255)):0};const rgbToAnsi8=(n,o,t)=>(n=Math.round(n),o=Math.round(o),t=Math.round(t),Math.round(n===o&&t==o?n<8?16:248<n?231:(n-8)/247*24+232:n/255*36*5+o/255*6*5+t/255*5+16));const ansi8ToAnsi4=n=>{if(232<=n){const a=10*(n-232)+8;return rgbToAnsi4(a,a,a)}const o=(n-=16)%36;const t=Math.floor(n/36)/5*255;const s=Math.floor(o/6)/5*255;const r=o%6/5*255;return rgbToAnsi4(t,s,r)};const hslToRgb=(s,n,r)=>{r/=100;const a=n*Math.min(r,1-r)/100;const o=n=>{const o=(n+s/30)%12;const t=r-a*Math.max(Math.min(o-3,9-o,1),-1);return clamp(Math.round(255*t),0,255)};return[o(0),o(8),o(4)]};export{ansi4ToAnsi3,rgbToAnsi4,rgbToAnsi8,ansi8ToAnsi4,hslToRgb};